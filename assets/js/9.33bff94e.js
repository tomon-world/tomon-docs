(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{359:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#权限"}},[t._v("#")]),t._v(" 权限")]),t._v(" "),a("h2",{attrs:{id:"权限用途"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#权限用途"}},[t._v("#")]),t._v(" 权限用途")]),t._v(" "),a("p",[t._v("权限用于管理用户在群组里的行为。一般的即时通讯类 App 只将权限划分为三种：群主、管理员、一般群员。Tomon App 支持更细致的划分。具体如下：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("权限名")]),t._v(" "),a("th",[t._v("代码")]),t._v(" "),a("th",[t._v("值")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("作用范围")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("创建邀请")]),t._v(" "),a("td",[a("code",[t._v("CREATE_INVITE")])]),t._v(" "),a("td",[a("code",[t._v("1<<0")])]),t._v(" "),a("td",[t._v("可以创建邀请")]),t._v(" "),a("td",[t._v("频道")])]),t._v(" "),a("tr",[a("td",[t._v("踢出成员")]),t._v(" "),a("td",[a("code",[t._v("KICK_MEMBERS")])]),t._v(" "),a("td",[a("code",[t._v("1<<1")])]),t._v(" "),a("td",[t._v("可以踢出成员")]),t._v(" "),a("td",[t._v("群组")])]),t._v(" "),a("tr",[a("td",[t._v("管理员")]),t._v(" "),a("td",[a("code",[t._v("ADMINISTRATOR")])]),t._v(" "),a("td",[a("code",[t._v("1<<3")])]),t._v(" "),a("td",[t._v("管理员具有所有权限，除了解散群组")]),t._v(" "),a("td",[t._v("群组")])]),t._v(" "),a("tr",[a("td",[t._v("管理频道")]),t._v(" "),a("td",[a("code",[t._v("MANAGE_CHANNELS")])]),t._v(" "),a("td",[a("code",[t._v("1<<4")])]),t._v(" "),a("td",[t._v("可以设置频道的信息")]),t._v(" "),a("td",[t._v("频道")])]),t._v(" "),a("tr",[a("td",[t._v("管理群组")]),t._v(" "),a("td",[a("code",[t._v("MANAGE_GUILD")])]),t._v(" "),a("td",[a("code",[t._v("1<<5")])]),t._v(" "),a("td",[t._v("可以设置群组的信息")]),t._v(" "),a("td",[t._v("群组")])]),t._v(" "),a("tr",[a("td",[t._v("添加反应")]),t._v(" "),a("td",[a("code",[t._v("ADD_REACTIONS")])]),t._v(" "),a("td",[a("code",[t._v("1<<6")])]),t._v(" "),a("td",[t._v("可以给消息添加反应")]),t._v(" "),a("td",[t._v("频道")])]),t._v(" "),a("tr",[a("td",[t._v("查看频道")]),t._v(" "),a("td",[a("code",[t._v("VIEW_CHANNEL")])]),t._v(" "),a("td",[a("code",[t._v("1<<10")])]),t._v(" "),a("td",[t._v("可以查看频道")]),t._v(" "),a("td",[t._v("频道")])]),t._v(" "),a("tr",[a("td",[t._v("发送消息")]),t._v(" "),a("td",[a("code",[t._v("SEND_MESSAGES")])]),t._v(" "),a("td",[a("code",[t._v("1<<11")])]),t._v(" "),a("td",[t._v("可以在频道内发送消息")]),t._v(" "),a("td",[t._v("频道")])]),t._v(" "),a("tr",[a("td",[t._v("管理消息")]),t._v(" "),a("td",[a("code",[t._v("MANAGE_MESSAGES")])]),t._v(" "),a("td",[a("code",[t._v("1<<13")])]),t._v(" "),a("td",[t._v("可以管理消息（删除，置顶）")]),t._v(" "),a("td",[t._v("频道")])]),t._v(" "),a("tr",[a("td",[t._v("添加消息附件")]),t._v(" "),a("td",[a("code",[t._v("ATTACH_FILES")])]),t._v(" "),a("td",[a("code",[t._v("1<<15")])]),t._v(" "),a("td",[t._v("可以添加附件")]),t._v(" "),a("td",[t._v("频道")])]),t._v(" "),a("tr",[a("td",[t._v("查看历史消息")]),t._v(" "),a("td",[a("code",[t._v("READ_MESSAGE_HISTORY")])]),t._v(" "),a("td",[a("code",[t._v("1<<16")])]),t._v(" "),a("td",[t._v("可以查看历史消息")]),t._v(" "),a("td",[t._v("频道")])]),t._v(" "),a("tr",[a("td",[t._v("语音连接")]),t._v(" "),a("td",[a("code",[t._v("CONNECT")])]),t._v(" "),a("td",[a("code",[t._v("1<<20")])]),t._v(" "),a("td",[t._v("可以连接语音频道")]),t._v(" "),a("td",[t._v("频道")])]),t._v(" "),a("tr",[a("td",[t._v("语音讲话")]),t._v(" "),a("td",[a("code",[t._v("SPEAK")])]),t._v(" "),a("td",[a("code",[t._v("1<<21")])]),t._v(" "),a("td",[t._v("可以在语音频道里讲话")]),t._v(" "),a("td",[t._v("频道")])]),t._v(" "),a("tr",[a("td",[t._v("更换群昵称")]),t._v(" "),a("td",[a("code",[t._v("CHANGE_NICKNAME")])]),t._v(" "),a("td",[a("code",[t._v("1<<26")])]),t._v(" "),a("td",[t._v("可以更换群昵称")]),t._v(" "),a("td",[t._v("群组")])]),t._v(" "),a("tr",[a("td",[t._v("管理群昵称")]),t._v(" "),a("td",[a("code",[t._v("MANAGE_NICKNAMES")])]),t._v(" "),a("td",[a("code",[t._v("1<<27")])]),t._v(" "),a("td",[t._v("可以更换其他人的群昵称")]),t._v(" "),a("td",[t._v("群组")])]),t._v(" "),a("tr",[a("td",[t._v("管理角色")]),t._v(" "),a("td",[a("code",[t._v("MANAGE_ROLES")])]),t._v(" "),a("td",[a("code",[t._v("1<<28")])]),t._v(" "),a("td",[t._v("可以管理角色，可以设置群组的权限覆盖")]),t._v(" "),a("td",[t._v("群组、频道")])]),t._v(" "),a("tr",[a("td",[t._v("管理 Emoji")]),t._v(" "),a("td",[a("code",[t._v("MANAGE_EMOJIS")])]),t._v(" "),a("td",[a("code",[t._v("1<<30")])]),t._v(" "),a("td",[t._v("可以管理 Emoji")]),t._v(" "),a("td",[t._v("群组")])])])]),t._v(" "),a("p",[t._v("权限的作用范围分为两种：群组和频道。群组是控制成员在群组内的行为，不涉及频道，频道是控制频道内的行为，不涉及群组。")]),t._v(" "),a("p",[t._v("作用范围是频道的，可以在频道的权限覆盖中进行覆盖设置。")]),t._v(" "),a("p",[t._v("频道的权限覆盖是指：成员在群组的权限基础上，针对频道范围的自定义权限。这样可以做到频道的管理多样性，不同频道针对不同的成员或角色具有不同的表现。")]),t._v(" "),a("p",[t._v("例如：")]),t._v(" "),a("ul",[a("li",[t._v("设置公告频道所有人不可以发言")]),t._v(" "),a("li",[t._v("设置仅管理员可见频道")])]),t._v(" "),a("h2",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("p",[t._v("判断一个成员在群组内或频道内是否有权限，先将权限计算出来，再进行位运算得到布尔结果。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasPermissionForGuild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("guild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" member"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" permissions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getGuildPermissions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("guild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" member"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" permissions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasPermissionForChannel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("channel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" member"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" permissions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getChannelPermissions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("guild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" member"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" permissions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" viewable "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasPermissionForChannel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  channel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  member"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  Permissions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VIEW_CHANNEL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"计算"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#计算"}},[t._v("#")]),t._v(" 计算")]),t._v(" "),a("p",[t._v("成员针对群组和频道的权限是经过计算得来的。成员拥有多个角色，角色携带权限。角色的权限和频道的权限覆盖将成为")]),t._v(" "),a("p",[t._v("所有角色的权限总和成为该成员在群组范围内的权限。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getGuildPermissions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("guild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" member")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" everyone "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" guild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("roles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("everyone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" permissions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" everyone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("permissions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" role "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" member"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("roles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    permissions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" permissions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("permissions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" permissions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("频道范围的权限需要进一步考虑频道的权限覆盖。权限覆盖分为三种：所有人、针对角色的覆盖和针对成员的覆盖。权限覆盖计算需要经过 6 步：")]),t._v(" "),a("ul",[a("li",[t._v("去掉所有人权限覆盖中设置的 deny 权限")]),t._v(" "),a("li",[t._v("增加所有人权限覆盖中设置的 allow 权限")]),t._v(" "),a("li",[t._v("去掉角色权限覆盖中设置的 deny 权限，要求成员具有覆盖指定的角色")]),t._v(" "),a("li",[t._v("增加角色权限覆盖中设置的 allow 权限，要求成员具有覆盖指定的角色")]),t._v(" "),a("li",[t._v("如果覆盖中指定了当前成员，去掉成员权限覆盖设置的 deny 权限")]),t._v(" "),a("li",[t._v("如果覆盖中指定了当前成员，增加成员权限覆盖设置的 allow 权限")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getChannelPermissions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("channel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" member")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" permissions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getGuildPermissions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("channel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("guild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" member"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" everyoneOverwrite "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" channel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("permissionOverwrites"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("everyone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  permissions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v("everyoneOverwrite"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deny"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  permissions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|=")]),t._v(" everyoneOverwrite"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("allow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" allow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" deny "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" roleOverwrite "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" channel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("permissionOverwrites"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("roles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("member"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("roles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("has")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("roleOverwrite"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      allow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|=")]),t._v(" roleOverwrite"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("allow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      deny "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|=")]),t._v(" roleOverwrite"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deny"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  permissions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v("deny"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  permissions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|=")]),t._v(" allow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("channel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("permissionOverwrites"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("members"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("has")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("member"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" memberOverwrite "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" channel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("permissionOverwrites"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("members"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("member"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    permissions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v("memberOverwrite"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deny"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    permissions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|=")]),t._v(" memberOverwrite"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("allow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" permissions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);